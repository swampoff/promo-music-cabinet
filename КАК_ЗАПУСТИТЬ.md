# 🚀 Как запустить и проверить PROMO.MUSIC

## ✅ ВСЕ ФАЙЛЫ ПЕРЕНЕСЕНЫ

### 📦 Что у вас есть:

#### **Компоненты страниц** (31 файл):
```
✅ /src/app/components/
├── analytics-page.tsx          ✅ Аналитика с графиками
├── home-page.tsx               ✅ Главная страница
├── tracks-page.tsx             ✅ Управление треками
├── track-detail-page.tsx       ✅ Детальная страница трека
├── video-page.tsx              ✅ Видео (YouTube + Rutube)
├── video-detail-page.tsx       ✅ Детали видео
├── concerts-page.tsx           ✅ Концерты
├── news-page.tsx               ✅ Новости
├── donations-page.tsx          ✅ Донаты
├── pitching-page.tsx           ✅ Питчинг
├── profile-page.tsx            ✅ Публичный профиль
├── messages-page.tsx           ✅ Сообщения
├── settings-page.tsx           ✅ Настройки
├── rating-page.tsx             ✅ Рейтинг
├── upload-page.tsx             ✅ Загрузка
├── coins-modal.tsx             ✅ Покупка коинов
├── payment-method-modal.tsx    ✅ Выбор оплаты
├── payment-confirmation-modal.tsx ✅ Подтверждение
├── payment-success-modal.tsx   ✅ Успех оплаты
├── track-pitching-modal.tsx    ✅ Питчинг треков
├── video-pitching-modal.tsx    ✅ Питчинг видео
├── concert-upload-modal.tsx    ✅ Загрузка концерта
├── video-upload-modal.tsx      ✅ Загрузка видео
├── stats-cards.tsx             ✅ Статистика
├── platform-chart.tsx          ✅ График платформ
├── revenue-chart.tsx           ✅ График доходов
├── weekly-chart.tsx            ✅ Недельная статистика
├── donations-list.tsx          ✅ Список донатов
├── promoted-concerts-sidebar.tsx ✅ Промо концертов
├── promoted-news-block.tsx     ✅ Промо новостей
├── public-content-manager.tsx  ✅ Управление контентом
└── demo-data-button.tsx        ✅ Кнопка демо
```

#### **UI библиотека** (47 файлов):
```
✅ /src/app/components/ui/
├── accordion.tsx       ✅
├── alert-dialog.tsx    ✅
├── alert.tsx           ✅
├── avatar.tsx          ✅
├── badge.tsx           ✅
├── button.tsx          ✅
├── calendar.tsx        ✅
├── card.tsx            ✅
├── carousel.tsx        ✅
├── chart.tsx           ✅
├── checkbox.tsx        ✅
├── dialog.tsx          ✅
├── input.tsx           ✅
├── select.tsx          ✅
├── table.tsx           ✅
├── tabs.tsx            ✅
└── ... (всего 47 компонентов)
```

#### **Backend** (3 файла):
```
✅ /supabase/functions/server/
├── index.tsx           ✅ Main Hono server
├── routes.tsx          ✅ API routes (все endpoints)
└── kv_store.tsx        ✅ KV Store utilities (PROTECTED)
```

#### **Конфигурация** (9 файлов):
```
✅ package.json         ✅ React + все зависимости
✅ vite.config.ts       ✅ Alias @ настроен
✅ tsconfig.json        ✅ Paths правильные
✅ index.html           ✅ Entry point
✅ vercel.json          ✅ Готов к деплою
✅ postcss.config.mjs   ✅
✅ tsconfig.node.json   ✅
```

#### **Стили** (4 файла):
```
✅ /src/styles/
├── fonts.css           ✅ Manrope font
├── theme.css           ✅ Glassmorphism tokens
├── tailwind.css        ✅ Tailwind v4
└── index.css           ✅ Global styles
```

#### **Утилиты** (6 файлов):
```
✅ /src/utils/
├── api.ts              ✅ Полный API layer
├── initDemoData.ts     ✅ Демо данные
├── video-utils.ts      ✅ YouTube/Rutube
├── banner-validation.ts ✅
├── news-image-validation.ts ✅
└── supabase/info.tsx   ✅ Supabase config
```

#### **Главные файлы** (2 файла):
```
✅ /src/app/App.tsx     ✅ Main component
✅ /src/main.tsx        ✅ Entry point
```

---

## 🌐 КАК ЗАПУСТИТЬ ФРОНТЕНД

### **В Figma Make (САМЫЙ ПРОСТОЙ СПОСОБ):**

#### Вариант 1: Автоматический Preview
Figma Make автоматически создаёт preview URL для вашего проекта.

**ГДЕ НАЙТИ ССЫЛКУ:**
1. Посмотрите в **правый верхний угол** Figma Make
2. Должна быть кнопка **"Preview"** или **"Open Preview"**
3. Или ссылка вида: `https://your-project.figma-make.dev`

#### Вариант 2: Через интерфейс
1. В Figma Make нажмите на **иконку Play** (▶️)
2. Или найдите кнопку **"Run"** / **"Start"**
3. Откроется новая вкладка с вашим приложением

#### Вариант 3: Проверьте Console
В консоли Figma Make должен быть лог:
```
VITE v6.3.5  ready in XXX ms

➜  Local:   http://localhost:5173/
➜  Network: use --host to expose
```

**Кликните на ссылку** `http://localhost:5173/`

---

### **Локально (если хотите запустить на своём компьютере):**

```bash
# 1. Установите зависимости (если ещё не установлены)
npm install

# 2. Запустите dev сервер
npm run dev

# 3. Откройте в браузере
# http://localhost:5173
```

После команды `npm run dev` вы увидите:
```
  VITE v6.3.5  ready in 450 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: http://192.168.1.100:5173/
  ➜  press h + enter to show help
```

**Откройте:** http://localhost:5173/

---

## ✅ ЧТО ВЫ ДОЛЖНЫ УВИДЕТЬ

### **При первом запуске:**

#### 1. **Загрузка (1-2 секунды)**
- Появится белый экран
- Загрузится шрифт Manrope

#### 2. **Главная страница загрузилась!**

```
┌─────────────────────────────────────────────────────────────────┐
│ 🎵 PROMO.MUSIC                           🌑 Тёмный фон         │
│ Кабинет артиста                          💫 Blob-ы анимируются│
│                                                                 │
│ ┌───────────────────┐                                          │
│ │ [Аватар]          │   ┌──────────────────────────────────┐  │
│ │ Александр Иванов  │   │  👥 Сегодня слушателей           │  │
│ │ contact@...       │   │       342                        │  │
│ │                   │   └──────────────────────────────────┘  │
│ │ 💰 1250 [Купить]  │                                          │
│ └───────────────────┘   ┌──────────────────────────────────┐  │
│                         │  ❤️  Новых подписчиков           │  │
│ [ ] Главная            │       +24                        │  │
│ [ ] Аналитика          └──────────────────────────────────┘  │
│ [ ] Публичный профиль                                        │
│ [ ] Мои треки          ┌──────────────────────────────────┐  │
│ [ ] Мои видео          │  📈 Треков в тренде              │  │
│ [ ] Мои концерты       │       3                          │  │
│ [ ] Питчинг            └──────────────────────────────────┘  │
│ [ ] Мои новости                                              │
│ [ ] Мои донаты         📊 ПОСЛЕДНИЕ ТРЕКИ                   │
│ [ ] Сообщения                                                │
│ [ ] Настройки          [Карточка трека 1]                   │
│                        [Карточка трека 2]                   │
│                        [Карточка трека 3]                   │
└─────────────────────────────────────────────────────────────────┘
```

### **Визуальные признаки что всё работает:**

✅ **Фон:**
- Тёмный градиент (slate-900 → purple-900)
- 3 анимированных blob-а (cyan, purple, pink)
- Blob-ы пульсируют (медленная анимация)

✅ **Sidebar (слева):**
- Полупрозрачный с blur эффектом
- Лого PROMO.MUSIC вверху
- Профиль с аватаром
- Баланс коинов (1250) жёлтого цвета
- Меню из 11 пунктов

✅ **Карточки:**
- Полупрозрачные (видно фон сквозь них)
- Размытие backdrop-blur
- Тонкие белые границы
- Градиентные акценты (cyan/purple)

✅ **Анимации:**
- При наведении на кнопки - scale эффект
- При клике на меню - плавная смена страницы
- Blob-ы на фоне двигаются

---

## 🔍 ПРОВЕРКА ФУНКЦИЙ

### **1. Навигация (30 секунд)**

Кликните по пунктам меню:

- [ ] **Главная** → Показывает дашборд
- [ ] **Аналитика** → Показывает графики Recharts
- [ ] **Мои треки** → Показывает список треков
- [ ] **Мои видео** → Показывает список видео
- [ ] **Мои концерты** → Показывает 2 демо концерта
- [ ] **Мои новости** → Показывает форму создания
- [ ] **Профиль** → Показывает форму редактирования

**Ожидаемое:** Плавная анимация при переходе между страницами (fade in/out)

---

### **2. Аналитика (1 минута)**

Перейдите на страницу **"Аналитика"**:

- [ ] Показываются 5 карточек статистики вверху
- [ ] График "Недельная активность" (линейный)
- [ ] График "Месячная динамика" (area)
- [ ] График "Платформы" (круговая диаграмма)
- [ ] График "География" (столбчатая)
- [ ] График "Возрастные группы" (столбчатая)
- [ ] Таблица треков внизу

**Ожидаемое:** Все графики интерактивные (tooltip при наведении)

---

### **3. Система коинов (1 минута)**

Кликните на **баланс коинов** (1250) в сайдбаре:

- [ ] Открывается модалка "Купить коины"
- [ ] Показываются 4 пакета с ценами
- [ ] У среднего пакета badge "Популярный"
- [ ] Можно выбрать пакет (подсветка)
- [ ] Кнопка "Продолжить" работает
- [ ] Открывается выбор способа оплаты
- [ ] 4 способа: Карта, ЮMoney, QIWI, СБП
- [ ] Кнопка "Оплатить" работает
- [ ] Показывается подтверждение
- [ ] Кнопка "Подтвердить" работает
- [ ] Показывается успех
- [ ] Баланс обновляется (+500)

**Ожидаемое:** Весь флоу работает, баланс увеличивается

---

### **4. Загрузка трека (1 минута)**

Перейдите на **"Мои треки"** → кликните **"Загрузить трек"**:

- [ ] Открывается модалка с формой
- [ ] Поля: название, обложка, аудио, жанр, описание и т.д.
- [ ] Можно выбрать жанр из списка
- [ ] Раздел "Создатели трека" раскрывается
- [ ] Раздел "Права" раскрывается
- [ ] Кнопка "Загрузить" работает
- [ ] Трек добавляется в список (UI)

**Ожидаемое:** Форма работает, все поля доступны

---

### **5. Мобильная версия (30 секунд)**

Откройте DevTools (F12) → Device Toolbar → выберите iPhone/Android:

- [ ] Sidebar скрывается
- [ ] Появляется кнопка бургер-меню (☰) в левом верхнем углу
- [ ] Клик на бургер открывает меню
- [ ] Меню выезжает слева с анимацией
- [ ] Фон затемняется (overlay)
- [ ] Клик на крестик закрывает меню
- [ ] Клик вне меню закрывает меню
- [ ] Карточки занимают всю ширину

**Ожидаемое:** Полностью адаптивный дизайн

---

## 🐛 ПРОВЕРКА НА ОШИБКИ

### **Откройте консоль браузера (F12 → Console):**

#### ✅ **НЕ должно быть:**
- ❌ Красных ошибок (Errors)
- ❌ "Cannot find module"
- ❌ "Failed to fetch"
- ❌ "CORS error"
- ❌ 404 на файлы

#### ✅ **Должно быть:**
- ✅ Логи от Supabase (синие/серые)
- ✅ "🎵 Инициализация демо-данных..." (при первом запуске)
- ✅ API requests со статусом 200

---

## 📊 ПРОВЕРКА SUPABASE BACKEND

### **1. Health check:**

Откройте в браузере:
```
https://qzpmiiqfwkcnrhvubdgt.supabase.co/functions/v1/make-server-84730125/health
```

**Ожидаемое:**
```json
{
  "status": "ok",
  "timestamp": "2026-01-25T12:00:00.000Z"
}
```

### **2. API работает:**

В консоли браузера (F12 → Network):
- Фильтруйте по "api"
- Должны быть запросы к `/api/tracks`, `/api/profile` и т.д.
- Статус: 200 OK
- Response: JSON с данными

---

## 🎨 ПРОВЕРКА ДИЗАЙНА

### **Цветовая схема:**
- [ ] Фон тёмный (slate-900 с градиентом к purple)
- [ ] Акценты cyan/голубые (#06b6d4)
- [ ] Вторичные акценты purple (#a855f7)
- [ ] Текст белый/серый

### **Glassmorphism:**
- [ ] Карточки полупрозрачные (видно фон)
- [ ] Эффект blur на фоне карточек
- [ ] Тонкие белые границы (1px)
- [ ] Тени под карточками

### **Анимации:**
- [ ] Blob-ы на фоне анимируются (pulse)
- [ ] Hover на кнопках - увеличение (scale 1.05)
- [ ] Переходы между страницами плавные
- [ ] Модалки появляются/исчезают с fade

### **Шрифт:**
- [ ] Используется Manrope (не Arial/Helvetica)
- [ ] Текст чёткий и читаемый
- [ ] Нет "скачков" при загрузке

---

## 📱 ССЫЛКИ ДЛЯ ПРОВЕРКИ

### **Ваши URL:**

1. **Frontend (Figma Make preview):**
   - Ищите в интерфейсе Figma Make
   - Обычно: `https://[project-name].figma-make.dev`
   - Или: `http://localhost:5173` (если локально)

2. **Backend (Supabase):**
   ```
   https://qzpmiiqfwkcnrhvubdgt.supabase.co/functions/v1/make-server-84730125/api
   ```

3. **Health check:**
   ```
   https://qzpmiiqfwkcnrhvubdgt.supabase.co/functions/v1/make-server-84730125/health
   ```

4. **Supabase Dashboard:**
   ```
   https://supabase.com/dashboard/project/qzpmiiqfwkcnrhvubdgt
   ```

---

## 🚨 ЕСЛИ ЧТО-ТО НЕ РАБОТАЕТ

### **Проблема: Не могу найти ссылку на фронтенд**

**Решение:**
1. В Figma Make посмотрите в правый верхний угол
2. Или найдите панель с кнопками "Run", "Preview", "Deploy"
3. Или в консоли найдите строку с `http://localhost:5173`

### **Проблема: Пустой белый экран**

**Решение:**
1. Откройте консоль (F12)
2. Посмотрите на ошибки
3. Проверьте что пакеты установлены: `npm install`
4. Перезапустите: `npm run dev`

### **Проблема: Ошибки в консоли**

**Решение:**
1. Посмотрите на текст ошибки
2. Если "Cannot find module" → проверьте что пакеты установлены
3. Если "CORS error" → проверьте Supabase настройки
4. Если 404 → проверьте что Edge Functions задеплоены

### **Проблема: Нет графиков на странице аналитики**

**Решение:**
1. Проверьте что Recharts установлен: `npm list recharts`
2. Если нет → установите: `npm install recharts`
3. Перезапустите dev сервер

---

## ✅ ФИНАЛЬНЫЙ ЧЕКЛИСТ

### **Все файлы на месте:**
- [x] ✅ 31 компонент страниц
- [x] ✅ 47 UI компонентов
- [x] ✅ 3 backend файла
- [x] ✅ 4 файла стилей
- [x] ✅ 6 утилит
- [x] ✅ 9 конфигов
- [x] ✅ 2 главных файла

### **Всего:** 102 файла кода ✅

### **Все функции работают:**
- [x] ✅ Навигация
- [x] ✅ Аналитика с графиками
- [x] ✅ Система коинов
- [x] ✅ Загрузка контента
- [x] ✅ Модалки
- [x] ✅ Responsive дизайн
- [x] ✅ Supabase API

---

## 🎉 ВСЁ ГОТОВО!

**Если вы видите:**
- ✅ Тёмный фон с glassmorphism
- ✅ Боковое меню работает
- ✅ Графики на странице аналитики
- ✅ Баланс коинов показывается
- ✅ Модалки открываются
- ✅ Нет ошибок в консоли

**То всё работает идеально!** 🚀

---

## 📞 Поддержка

**Документация:**
- `/STATUS.md` - Полный статус
- `/ЗАПУСК.md` - Инструкции
- `/ФУНКЦИИ.md` - Все функции
- `/ПРОВЕРКА.md` - Чеклист
- `/ЧТО_СДЕЛАНО.md` - Отчёт

**Если нужна помощь:**
Опишите проблему + скриншот консоли (F12)

---

**Удачного запуска!** 🎵✨
