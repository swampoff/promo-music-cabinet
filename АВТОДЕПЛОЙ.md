# ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π PROMO.MUSIC

## üéØ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, **–∫–∞–∂–¥—ã–π git push** –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –î–µ–ø–ª–æ–∏—Ç—å Frontend –Ω–∞ Vercel
2. ‚úÖ –î–µ–ø–ª–æ–∏—Ç—å Backend –Ω–∞ Supabase
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–æ–≤
4. ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è:** 2-3 –º–∏–Ω—É—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### GitHub Actions Workflow:
- ‚úÖ `.github/workflows/deploy.yml` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push

### –°–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è:
- ‚úÖ `scripts/deploy-frontend.sh` - –î–µ–ø–ª–æ–π frontend –Ω–∞ Vercel
- ‚úÖ `scripts/deploy-backend.sh` - –î–µ–ø–ª–æ–π backend –Ω–∞ Supabase
- ‚úÖ `scripts/deploy-all.sh` - –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π (frontend + backend)
- ‚úÖ `scripts/setup-secrets.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets
- ‚úÖ `scripts/init-git.sh` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è git –∏ –ø–µ—Ä–≤—ã–π push

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 —à–∞–≥–∞)

### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git –∏ Push

```bash
# –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x scripts/init-git.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º
./scripts/init-git.sh
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç git (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
2. –°–æ–∑–¥–∞—Å—Ç .gitignore
3. –°–¥–µ–ª–∞–µ—Ç –ø–µ—Ä–≤—ã–π commit
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç remote –Ω–∞ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
5. –í—ã–ø–æ–ª–Ω–∏—Ç –ø–µ—Ä–≤—ã–π push

---

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets

```bash
# –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x scripts/setup-secrets.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º
./scripts/setup-secrets.sh
```

**–°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç 4 —Ç–æ–∫–µ–Ω–∞:**

1. **VERCEL_TOKEN**
   - –ü–æ–ª—É—á–∏—Ç–µ –Ω–∞: https://vercel.com/account/tokens
   - –ù–∞–∂–º–∏—Ç–µ "Create Token"
   - Scope: Full Account
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

2. **VERCEL_ORG_ID**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel
   - Settings ‚Üí General
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ "Organization ID"

3. **VERCEL_PROJECT_ID**
   - –¢–∞–º –∂–µ –≤ Settings ‚Üí General
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ "Project ID"

4. **SUPABASE_ACCESS_TOKEN**
   - –ü–æ–ª—É—á–∏—Ç–µ –Ω–∞: https://supabase.com/dashboard/account/tokens
   - –ù–∞–∂–º–∏—Ç–µ "Generate new token"
   - Name: "GitHub Actions Deploy"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

---

### –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Vercel –∫ GitHub

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://vercel.com
2. **New Project** ‚Üí **Import Git Repository**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `promo-music`
4. **Framework Preset:** Vite
5. **Environment Variables:**
   ```
   VITE_SUPABASE_URL=https://qzpmiiqfwkcnrhvubdgt.supabase.co
   VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6cG1paXFmd2tjbnJodnViZGd0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc3MTkwOTMsImV4cCI6MjA1MzI5NTA5M30.9wCGmE8k7oIcqDDLUiOZfVV-rT4S2B2KX7qC1KFG_YE
   ```
6. **Deploy**

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

### –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è:

```
–í—ã –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥
       ‚Üì
   git add .
   git commit -m "–î–æ–±–∞–≤–∏–ª —Ñ–∏—á—É"
   git push
       ‚Üì
GitHub Actions –æ–±–Ω–∞—Ä—É–∂–∏–ª push
       ‚Üì
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏–ª workflow
       ‚Üì
[1/2] Deploy Backend ‚Üí Supabase
[2/2] Deploy Frontend ‚Üí Vercel
       ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ health checks
       ‚Üì
‚úÖ –ì–æ—Ç–æ–≤–æ! (2-3 –º–∏–Ω—É—Ç—ã)
```

**–í—ã –ø–æ–ª—É—á–∏—Ç–µ:**
- ‚úÖ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç GitHub
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ PR (–µ—Å–ª–∏ —ç—Ç–æ PR)
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–∞–π—Ç

---

## üõ†Ô∏è –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π (Frontend + Backend):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã
export VERCEL_TOKEN=your-vercel-token
export SUPABASE_ACCESS_TOKEN=your-supabase-token

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
chmod +x scripts/deploy-all.sh
./scripts/deploy-all.sh --production
```

### –¢–æ–ª—å–∫–æ Frontend:

```bash
export VERCEL_TOKEN=your-vercel-token

chmod +x scripts/deploy-frontend.sh
./scripts/deploy-frontend.sh --production
```

### –¢–æ–ª—å–∫–æ Backend:

```bash
export SUPABASE_ACCESS_TOKEN=your-supabase-token

chmod +x scripts/deploy-backend.sh
./scripts/deploy-backend.sh
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

### Frontend:
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Vercel URL
curl https://your-project.vercel.app
```

### Backend:
```bash
# Health check
curl https://qzpmiiqfwkcnrhvubdgt.supabase.co/functions/v1/make-server-84730125/health

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:
# {"status":"ok","timestamp":"2026-01-25T..."}
```

---

## üìä GitHub Actions Status

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è:

```
https://github.com/YOUR-USERNAME/promo-music/actions
```

**–ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**
- üü¢ –ó–µ–ª—ë–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ - –¥–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω
- üî¥ –ö—Ä–∞—Å–Ω—ã–π –∫—Ä–µ—Å—Ç–∏–∫ - –æ—à–∏–±–∫–∞ –¥–µ–ø–ª–æ—è
- üü° –ñ—ë–ª—Ç—ã–π –∫—Ä—É–∂–æ–∫ - –¥–µ–ø–ª–æ–π –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "VERCEL_TOKEN is required"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ GitHub
- Settings ‚Üí Secrets and variables ‚Üí Actions
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ 4 —Å–µ–∫—Ä–µ—Ç–∞

### –û—à–∏–±–∫–∞: "supabase: command not found"

**–†–µ—à–µ–Ω–∏–µ:**
- GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç Supabase CLI
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
  ```bash
  # macOS
  brew install supabase/tap/supabase
  
  # Linux
  curl -fsSL https://cli.supabase.com/install.sh | sh
  ```

### –û—à–∏–±–∫–∞: "Vercel deployment failed"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ GitHub –≤ Vercel
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ VERCEL_ORG_ID –∏ VERCEL_PROJECT_ID
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–∫–µ–Ω–∞

### –û—à–∏–±–∫–∞: "Permission denied"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x scripts/*.sh
```

---

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ç–∫–∏ –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è:

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.github/workflows/deploy.yml`:

```yaml
on:
  push:
    branches:
      - main          # –î–µ–ø–ª–æ–π —Å main
      - production    # –î–µ–ø–ª–æ–π —Å production
      - staging       # –î–µ–ø–ª–æ–π —Å staging
```

### –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Slack:

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü workflow:

```yaml
- name: Notify Slack
  uses: slackapi/slack-github-action@v1
  with:
    webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
    payload: |
      {
        "text": "‚úÖ PROMO.MUSIC deployed!"
      }
```

### –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–µ—Å—Ç–æ–≤:

–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:

```yaml
- name: Run tests
  run: npm test
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª `./scripts/init-git.sh`
- [ ] –°–æ–∑–¥–∞–ª GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –°–¥–µ–ª–∞–ª –ø–µ—Ä–≤—ã–π push
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª `./scripts/setup-secrets.sh`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª –≤—Å–µ 4 —Å–µ–∫—Ä–µ—Ç–∞
- [ ] –ü–æ–¥–∫–ª—é—á–∏–ª Vercel –∫ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
- [ ] –î–æ–±–∞–≤–∏–ª environment variables –≤ Vercel

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
- [ ] Workflow —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `.github/workflows/deploy.yml`
- [ ] GitHub Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (4 —à—Ç—É–∫–∏)
- [ ] Vercel –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ GitHub
- [ ] –°–¥–µ–ª–∞–ª test push - –¥–µ–ø–ª–æ–π –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
- [ ] Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ Vercel URL
- [ ] Backend health check –ø—Ä–æ—Ö–æ–¥–∏—Ç

---

## üéâ –ì–æ—Ç–æ–≤–æ!

**–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git push`:**
1. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
2. –ó–∞–¥–µ–ø–ª–æ–∏—Ç backend –Ω–∞ Supabase
3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç frontend –Ω–∞ Vercel
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
5. –£–≤–µ–¥–æ–º–∏—Ç –≤–∞—Å –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

**–í—Ä–µ–º—è:** 2-3 –º–∏–Ω—É—Ç—ã  
**–î–µ–π—Å—Ç–≤–∏–π —Å –≤–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω—ã:** 0  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0 (GitHub Actions –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ)

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **GitHub Actions Docs:** https://docs.github.com/en/actions
- **Vercel CLI Docs:** https://vercel.com/docs/cli
- **Supabase CLI Docs:** https://supabase.com/docs/guides/cli
- **–í–∞—à Vercel Dashboard:** https://vercel.com/dashboard
- **–í–∞—à Supabase Dashboard:** https://supabase.com/dashboard/project/qzpmiiqfwkcnrhvubdgt

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–ü—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π?**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ GitHub Actions
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Vercel –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–∫–ª—é—á—ë–Ω

**–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç?** –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! üéä

–¢–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∞–π—Ç–µ `git push` –∏ —á–µ—Ä–µ–∑ 3 –º–∏–Ω—É—Ç—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ!
