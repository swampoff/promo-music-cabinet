# üóÑÔ∏è Database Migrations - Supabase SQL Tables

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 8 PostgreSQL —Ç–∞–±–ª–∏—Ü, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –≤ Supabase Dashboard.

---

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: **https://app.supabase.com**

### –®–∞–≥ 2: –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
–ù–∞–π–¥–∏—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–ª—è promo.music

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor
–í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ: **SQL Editor**

### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ SQL
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª: **`001_promotion_tables.sql`** (–≤ —ç—Ç–æ–π –∂–µ –ø–∞–ø–∫–µ)

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å SQL –∫–æ–¥ (–æ–∫–æ–ª–æ 200 —Å—Ç—Ä–æ–∫)

### –®–∞–≥ 5: –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL
1. –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SQL –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Run"** (–∏–ª–∏ Ctrl+Enter)
3. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"Table Editor"**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:
   - ‚úÖ pitching_requests
   - ‚úÖ editor_responses
   - ‚úÖ production_360_requests
   - ‚úÖ marketing_campaigns
   - ‚úÖ media_outreach_requests
   - ‚úÖ event_requests
   - ‚úÖ promo_lab_experiments
   - ‚úÖ promotion_transactions

---

## üìä –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

### 1. **pitching_requests**
–ó–∞—è–≤–∫–∏ –Ω–∞ –ø–∏—Ç—á–∏–Ω–≥ —Ç—Ä–µ–∫–æ–≤ –Ω–∞ —Ä–∞–¥–∏–æ –∏ –ø–ª–µ–π–ª–∏—Å—Ç—ã

**–ü–æ–ª—è:**
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `artist_id` - ID –∞—Ä—Ç–∏—Å—Ç–∞
- `track_id` - ID —Ç—Ä–µ–∫–∞
- `track_title` - –ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞
- `pitch_type` - –¢–∏–ø –ø–∏—Ç—á–∏–Ω–≥–∞ (standard / premium)
- `target_channels` - –¶–µ–ª–µ–≤—ã–µ –∫–∞–Ω–∞–ª—ã (radio, playlists)
- `message` - –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤
- `budget` - –ë—é–¥–∂–µ—Ç –≤ –∫–æ–∏–Ω–∞—Ö
- `status` - –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏
- `responses_count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- `interested_count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã—Ö
- `added_to_rotation_count` - –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ä–æ—Ç–∞—Ü–∏—é
- `created_at`, `updated_at` - –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 2. **editor_responses**
–û—Ç–≤–µ—Ç—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤ –Ω–∞ –∑–∞—è–≤–∫–∏ –ø–∏—Ç—á–∏–Ω–≥–∞

**–ü–æ–ª—è:**
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `pitching_request_id` - ID –∑–∞—è–≤–∫–∏ –ø–∏—Ç—á–∏–Ω–≥–∞ (FK)
- `editor_id` - ID —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- `editor_name` - –ò–º—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- `editor_type` - –¢–∏–ø (radio / playlist)
- `response_type` - –¢–∏–ø –æ—Ç–≤–µ—Ç–∞ (interested, not_interested, added_to_rotation, need_more_info)
- `notes` - –ó–∞–º–µ—Ç–∫–∏
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### 3. **production_360_requests**
–ó–∞—è–≤–∫–∏ –Ω–∞ 360¬∞ –ø—Ä–æ–¥–∞–∫—à–Ω (–≤–∏–¥–µ–æ, –¥–∏–∑–∞–π–Ω)

**–ü–æ–ª—è:**
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `artist_id` - ID –∞—Ä—Ç–∏—Å—Ç–∞
- `service_type` - –¢–∏–ø —É—Å–ª—É–≥–∏ (video_shooting, video_editing, cover_design, full_package)
- `project_title` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ
- `budget` - –ë—é–¥–∂–µ—Ç
- `deadline` - –î–µ–¥–ª–∞–π–Ω
- `status` - –°—Ç–∞—Ç—É—Å
- `attachments` - –í–ª–æ–∂–µ–Ω–∏—è (JSON)
- `team_assigned` - –ù–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ (JSON)
- `progress` - –ü—Ä–æ–≥—Ä–µ—Å—Å (0-100)
- `created_at`, `updated_at` - –î–∞—Ç—ã

### 4. **marketing_campaigns**
–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏

**–ü–æ–ª—è:**
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `artist_id` - ID –∞—Ä—Ç–∏—Å—Ç–∞
- `campaign_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
- `campaign_type` - –¢–∏–ø (social_ads, influencer, email, content, full_package)
- `target_audience` - –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è (JSON)
- `budget` - –ë—é–¥–∂–µ—Ç
- `duration_days` - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –¥–Ω—è—Ö
- `platforms` - –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã (JSON)
- `goals` - –¶–µ–ª–∏ (JSON)
- `status` - –°—Ç–∞—Ç—É—Å
- `metrics` - –ú–µ—Ç—Ä–∏–∫–∏ (JSON)
- `roi` - ROI (Return on Investment)
- `created_at`, `updated_at`, `started_at`, `ended_at` - –î–∞—Ç—ã

### 5. **media_outreach_requests**
–ó–∞—è–≤–∫–∏ –Ω–∞ PR –∏ —Ä–∞–±–æ—Ç—É —Å–æ –°–ú–ò

**–ü–æ–ª—è:**
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `artist_id` - ID –∞—Ä—Ç–∏—Å—Ç–∞
- `outreach_type` - –¢–∏–ø (press_release, interview, feature, podcast, full_pr)
- `topic` - –¢–µ–º–∞
- `angle` - –£–≥–æ–ª –ø–æ–¥–∞—á–∏
- `target_media` - –¶–µ–ª–µ–≤—ã–µ –°–ú–ò (JSON)
- `budget` - –ë—é–¥–∂–µ—Ç
- `deadline` - –î–µ–¥–ª–∞–π–Ω
- `status` - –°—Ç–∞—Ç—É—Å
- `publications` - –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ (JSON)
- `reach_total` - –û–±—â–∏–π –æ—Ö–≤–∞—Ç
- `created_at`, `updated_at` - –î–∞—Ç—ã

### 6. **event_requests**
–ó–∞—è–≤–∫–∏ –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∫–æ–Ω—Ü–µ—Ä—Ç–æ–≤ –∏ —Å–æ–±—ã—Ç–∏–π

**–ü–æ–ª—è:**
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `artist_id` - ID –∞—Ä—Ç–∏—Å—Ç–∞
- `event_type` - –¢–∏–ø —Å–æ–±—ã—Ç–∏—è (concert, festival, club_show, online_event, tour)
- `event_name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- `city` - –ì–æ—Ä–æ–¥
- `venue` - –ü–ª–æ—â–∞–¥–∫–∞
- `event_date` - –î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è
- `expected_audience` - –û–∂–∏–¥–∞–µ–º–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
- `budget` - –ë—é–¥–∂–µ—Ç
- `status` - –°—Ç–∞—Ç—É—Å
- `tickets_sold` - –ü—Ä–æ–¥–∞–Ω–æ –±–∏–ª–µ—Ç–æ–≤
- `revenue` - –í—ã—Ä—É—á–∫–∞
- `team` - –ö–æ–º–∞–Ω–¥–∞ (JSON)
- `created_at`, `updated_at` - –î–∞—Ç—ã

### 7. **promo_lab_experiments**
PROMO Lab - —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ

**–ü–æ–ª—è:**
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `artist_id` - ID –∞—Ä—Ç–∏—Å—Ç–∞
- `experiment_name` - –ù–∞–∑–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
- `experiment_type` - –¢–∏–ø (ai_targeting, viral_challenge, nft_drop, meta_collab, custom)
- `hypothesis` - –ì–∏–ø–æ—Ç–µ–∑–∞
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ
- `budget` - –ë—é–¥–∂–µ—Ç
- `duration_days` - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- `status` - –°—Ç–∞—Ç—É—Å
- `metrics` - –ú–µ—Ç—Ä–∏–∫–∏ (JSON)
- `results` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (JSON)
- `learning` - –í—ã–≤–æ–¥—ã
- `created_at`, `updated_at` - –î–∞—Ç—ã

### 8. **promotion_transactions**
–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ–ø–ª–∞—Ç—ã –∑–∞ —É—Å–ª—É–≥–∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è

**–ü–æ–ª—è:**
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `artist_id` - ID –∞—Ä—Ç–∏—Å—Ç–∞
- `amount` - –°—É–º–º–∞
- `currency` - –í–∞–ª—é—Ç–∞ (RUB)
- `transaction_type` - –¢–∏–ø (pitching, production, marketing, media, event, promo_lab)
- `reference_id` - ID —Å–≤—è–∑–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏
- `reference_type` - –¢–∏–ø —Å–≤—è–∑–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏
- `status` - –°—Ç–∞—Ç—É—Å (pending, completed, failed, refunded)
- `payment_method` - –ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã (coins, card, bank_transfer)
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

---

## üîç –ò–Ω–¥–µ–∫—Å—ã

–ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏–º–µ–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞:

- **–ü–æ artist_id** - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü–æ status** - –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- **–ü–æ —Ç–∏–ø–∞–º** - –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø–∞–º —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ü–æ –¥–∞—Ç–∞–º** - –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ü–æ—á–µ–º—É –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤—Ä—É—á–Ω—É—é?
**A:** Supabase Edge Functions –Ω–µ –∏–º–µ—é—Ç –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ DDL –∫–æ–º–∞–Ω–¥ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü –ø–æ–∑–∂–µ?
**A:** –î–∞, –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ SQL Editor –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è.

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç?
**A:** SQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `CREATE TABLE IF NOT EXISTS`, –ø–æ—ç—Ç–æ–º—É –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ.

### Q: –ú–æ–∂–Ω–æ –ª–∏ —É–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã?
**A:** –î–∞, –Ω–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `DROP TABLE table_name;`

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ –ø—Ä–æ–µ–∫—Ç–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –≤ Supabase Dashboard

---

**‚úÖ –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é!**
