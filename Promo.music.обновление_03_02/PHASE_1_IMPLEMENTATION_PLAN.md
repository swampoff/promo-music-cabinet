# 🚀 ПЛАН ВНЕДРЕНИЯ: ФАЗА 1 (БЕЗ КОИНОВ)

**Дата:** 31 января 2026  
**Фаза:** 1 - Промежуточная модель (до внедрения Promo Coins)  
**Срок:** Сейчас - 6 месяцев (Q1-Q2 2026)

---

## 🎯 ЧТО ВНЕДРЯЕМ СЕЙЧАС (ФАЗА 1)

### ✅ **ПОДПИСКИ С ЛИМИТАМИ**

Подписка дает:
- Доступ к платформе
- Промо-инструменты (баннеры, рассылки, соцсети)
- Аналитику и CRM
- **ЛИМИТЫ на размещение контента**

### ✅ **ПРЯМЫЕ ОПЛАТЫ ЗА КОНТЕНТ**

При размещении контента:
- Проверка лимита подписки
- Если в лимите → списание стоимости размещения
- Если превышен лимит → блокировка или докупка слотов

### ❌ **ЧТО НЕ ВНЕДРЯЕМ (ПОКА)**

- Promo Coins (PC) - в разработке ⏳
- Система перенос коинов
- Покупка пакетов коинов

---

## 💰 ТАРИФНАЯ СЕТКА (ФАЗА 1)

### 🎤 **ARTIST SPARK** - ₽2,500/мес

```
╔════════════════════════════════════════════════════════════╗
║  ПОДПИСКА: ₽2,500/мес                                      ║
║  ЛИМИТЫ КОНТЕНТА:                                          ║
║    📦 1 аудиотрек/месяц (оплата: ₽5,000)                  ║
║    📦 3 анонса концертов/месяц (оплата: ₽3,000 каждый)   ║
║    📦 6 новостей/месяц (оплата: ₽2,000 каждый)           ║
║    ⚠️ Видеоклипы: 0 (доступны с Start)                    ║
╠════════════════════════════════════════════════════════════╣
║  ПРОМО-ИНСТРУМЕНТЫ                                         ║
║    ✅ Автопостинг: 1 соцсеть                              ║
║    ✅ Email: своя база (500 адресов)                      ║
║    ❌ Баннеры: только доплата                              ║
║    ❌ Featured: НЕТ                                        ║
╠════════════════════════════════════════════════════════════╣
║  РАССЫЛКИ ПО ЗАВЕДЕНИЯМ 🏢                                 ║
║    ✅ База: просмотр (5,000+ мест)                         ║
║    ✅ 5 ручных рассылок EPK/месяц                         ║
║    📍 1 город                                              ║
╠════════════════════════════════════════════════════════════╣
║  МОДЕРАЦИЯ: 48 часов                                       ║
║  ПОДДЕРЖКА: Email (48 часов)                              ║
║  БРЕНДИНГ: ⚠️ Watermark                                    ║
╚════════════════════════════════════════════════════════════╝

💎 PROMO COINS: В разработке (запуск Q3 2026) ⏳
```

---

### 🎸 **ARTIST START** - ₽10,000/мес

```
╔════════════════════════════════════════════════════════════╗
║  ПОДПИСКА: ₽10,000/мес                                     ║
║  ЛИМИТЫ КОНТЕНТА:                                          ║
║    📦 1 видеоклип/месяц (оплата: ₽10,000)                 ║
║    📦 3 аудиотрека/месяц (оплата: ₽5,000 каждый)         ║
║    📦 5 анонсов концертов/месяц (оплата: ₽3,000 каждый)  ║
║    📦 10 новостей/месяц (оплата: ₽2,000 каждый)          ║
║                                                            ║
║  💰 ПРИМЕР ЗАТРАТ:                                         ║
║    Подписка: ₽10,000                                       ║
║    1 клип: ₽10,000                                         ║
║    2 трека: ₽10,000                                        ║
║    ─────────────────                                       ║
║    ИТОГО: ₽30,000/мес                                      ║
╠════════════════════════════════════════════════════════════╣
║  ПРОМО-ИНСТРУМЕНТЫ                                         ║
║    ✅ Автопостинг: 1 соцсеть                              ║
║    ✅ Email: своя база (500 адресов)                      ║
║    💰 Баннеры: доплата ₽5,000/неделя                      ║
╠════════════════════════════════════════════════════════════╣
║  РАССЫЛКИ ПО ЗАВЕДЕНИЯМ 🏢                                 ║
║    ✅ База: полная (5,000+ мест)                           ║
║    ✅ 10 ручных рассылок EPK/месяц                        ║
║    📍 1 город                                              ║
╠════════════════════════════════════════════════════════════╣
║  МОДЕРАЦИЯ: 48 часов                                       ║
║  ПОДДЕРЖКА: Email (48 часов)                              ║
║  БРЕНДИНГ: ⚠️ Watermark                                    ║
╚════════════════════════════════════════════════════════════╝

💎 PROMO COINS: В разработке (запуск Q3 2026) ⏳
   После запуска: 15 PC/мес вместо прямых оплат
```

---

### ⭐ **ARTIST PRO** - ₽35,000/мес [РЕКОМЕНДУЕТСЯ]

```
╔════════════════════════════════════════════════════════════╗
║  ПОДПИСКА: ₽35,000/мес                                     ║
║  ЛИМИТЫ КОНТЕНТА:                                          ║
║    📦 5 видеоклипов/месяц (оплата: ₽10,000 каждый)       ║
║    📦 10 аудиотреков/месяц (оплата: ₽5,000 каждый)       ║
║    📦 10 концертных анонсов/месяц (оплата: ₽3,000 каждый)║
║    📦 20 новостей/месяц (оплата: ₽2,000 каждый)          ║
║                                                            ║
║  💰 ПРИМЕР ЗАТРАТ:                                         ║
║    Подписка: ₽35,000                                       ║
║    3 клипа: ₽30,000                                        ║
║    5 треков: ₽25,000                                       ║
║    ─────────────────                                       ║
║    ИТОГО: ₽90,000/мес                                      ║
╠════════════════════════════════════════════════════════════╣
║  ПРОМО-ИНСТРУМЕНТЫ 📢 [РАСШИРЕННЫЕ]                       ║
║    ✅ Автопостинг: 5 соцсетей                             ║
║    ✅ Email: своя база (5,000) + платформа (10k/мес)     ║
║    ✅ SMS: 1,000 номеров/мес                              ║
║    ✅ Push: 2 кампании/мес                                ║
║    ✅ Featured: 1 раз/квартал (3 дня)                     ║
║    ✅ Промо-бюджет: ₽10,000/мес                           ║
║                                                            ║
║    БАННЕРЫ 🎯 (ВКЛЮЧЕНЫ!):                                ║
║    ✅ 2 баннера в категориях (по 1 неделе)                ║
║       Value: ₽10,000                                       ║
╠════════════════════════════════════════════════════════════╣
║  РАССЫЛКИ ПО ЗАВЕДЕНИЯМ 🏢 [KILLER FEATURE!]              ║
║    ✅ База: 5,000+ заведений                               ║
║    ✅ АВТОМАТИЧЕСКАЯ рассылка: 100/месяц                  ║
║    ✅ Ручная рассылка: 50/месяц                           ║
║    ✅ Трекинг откликов                                     ║
║    ✅ CRM-интеграция                                       ║
║    📍 До 5 городов                                         ║
╠════════════════════════════════════════════════════════════╣
║  АНАЛИТИКА: Реалтайм + демография + A/B тесты             ║
║  CRM: 200 контактов + мессенджер + 5 шаблонов договоров  ║
║  МОДЕРАЦИЯ: 12 часов (приоритет)                          ║
║  ПОДДЕРЖКА: Email + Chat (12 часов)                       ║
║  БРЕНДИНГ: ✅ БЕЗ watermark                                ║
║  API: 1,000 req/день                                       ║
╚════════════════════════════════════════════════════════════╝

💎 PROMO COINS: В разработке (запуск Q3 2026) ⏳
   После запуска: 60 PC/мес вместо прямых оплат
```

---

### 💎 **ARTIST ELITE** - ₽100,000/мес

```
╔════════════════════════════════════════════════════════════╗
║  ПОДПИСКА: ₽100,000/мес                                    ║
║  ЛИМИТЫ КОНТЕНТА:                                          ║
║    📦 20 видеоклипов/месяц (оплата: ₽10,000 каждый)      ║
║    📦 50 аудиотреков/месяц (оплата: ₽5,000 каждый)       ║
║    📦 НЕОГРАНИЧЕННО анонсов и новостей                    ║
║                                                            ║
║  💰 ПРИМЕР ЗАТРАТ:                                         ║
║    Подписка: ₽100,000                                      ║
║    10 клипов: ₽100,000                                     ║
║    20 треков: ₽100,000                                     ║
║    ─────────────────                                       ║
║    ИТОГО: ₽300,000/мес                                     ║
╠════════════════════════════════════════════════════════════╣
║  ПРОМО-ИНСТРУМЕНТЫ 📢 [МАКСИМУМ]                          ║
║    ✅ ВСЁ из PRO +                                         ║
║    ✅ Email: 50,000 + 4 рассылки/мес по базе платформы    ║
║    ✅ SMS: 10,000/мес                                      ║
║    ✅ Push: неограниченно                                  ║
║    ✅ Featured: 1 раз/мес (7 дней!)                       ║
║    ✅ Промо-бюджет: ₽50,000/мес                           ║
║    ✅ Плейлист-питчинг + Пресс-релизы                     ║
║                                                            ║
║    БАННЕРЫ 🎯:                                             ║
║    ✅ 1 баннер ГЛАВНАЯ (1 неделя) - ₽15,000               ║
║    ✅ 4 баннера категории (по 1 неделе) - ₽20,000        ║
║    ✅ Продвинутый таргетинг + A/B тесты                   ║
╠════════════════════════════════════════════════════════════╣
║  РАССЫЛКИ ПО ЗАВЕДЕНИЯМ 🏢 [МАКСИМУМ!]                    ║
║    ✅ База: 10,000+ (РФ + СНГ + Европа)                   ║
║    ✅ АВТОМАТИЧЕСКАЯ: 500/месяц + follow-up               ║
║    ✅ Ручная: неограниченно                                ║
║    ✅ AI-скоринг лидов                                     ║
║    📍 ВСЯ РОССИЯ + СНГ                                     ║
╠════════════════════════════════════════════════════════════╣
║  АНАЛИТИКА: AI-powered + конкурентный анализ              ║
║  CRM: 2,000 контактов + воронки + e-подпись               ║
║  МОДЕРАЦИЯ: 2 часа (экспресс!)                            ║
║  ПОДДЕРЖКА: 24/7 VIP + персональный менеджер              ║
║  БРЕНДИНГ: Full custom + свой домен                       ║
║  API: 10,000 req/день + webhooks                          ║
╚════════════════════════════════════════════════════════════╝

💎 PROMO COINS: В разработке (запуск Q3 2026) ⏳
   После запуска: 200 PC/мес вместо прямых оплат
```

---

### 🏢 **LABEL UNLIMITED** - от ₽250,000/мес

```
╔════════════════════════════════════════════════════════════╗
║  ВСЁ из ELITE + Неограниченный контент + Multi-user       ║
╚════════════════════════════════════════════════════════════╝

💎 PROMO COINS: В разработке (запуск Q3 2026) ⏳
   После з��пуска: ∞ PC
```

---

## 💰 ПРАЙС-ЛИСТ КОНТЕНТА (ФАЗА 1)

```
┌──────────────────────────────────────────────────────┐
│  ТИП КОНТЕНТА          │  СТОИМОСТЬ                  │
├──────────────────────────────────────────────────────┤
│  🎬 Видеоклип          │  ₽10,000                    │
│  🎵 Аудиотрек          │  ₽5,000                     │
│  🎤 Концертный анонс   │  ₽3,000                     │
│  📰 Новостной пост     │  ₽2,000                     │
└──────────────────────────────────────────────────────┘

ОПЛАТА:
✅ Списывается после одобрения модерацией
✅ При отклонении - средства НЕ списываются
✅ Создается транзакция в истории
✅ Отправляется уведомление артисту

💡 В БУДУЩЕМ (Promo Coins):
   Вместо ₽10,000 будет списываться 10 PC
   Вместо ₽5,000 будет списываться 2 PC
   И т.д.
```

---

## 🔄 ЛОГИКА РАЗМЕЩЕНИЯ КОНТЕНТА (ФАЗА 1)

### Шаг 1: Загрузка контента

```javascript
// Артист загружает клип
submitVideo({
  title: "Summer Vibes",
  artist: "Александр Иванов",
  // ...
})

// Проверки:
1. Есть ли активная подписка? ✅
2. Не превышен ли лимит? (5 клипов/мес на Pro) ✅
3. Создать PendingVideo:
   {
     status: 'pending',
     paymentStatus: 'pending', // Еще не оплачено
     price: 10000,
     isPaid: true // Платное размещение
   }
```

### Шаг 2: Модерация

```javascript
// Админ одобряет клип
approveVideo(videoId)

// Действия:
1. Списать ₽10,000 с баланса артиста ✅
2. Создать транзакцию:
   {
     type: 'expense',
     amount: 10000,
     description: 'Размещение видео: Summer Vibes',
     status: 'completed'
   }
3. Обновить статус:
   {
     status: 'approved',
     paymentStatus: 'paid'
   }
4. Отправить уведомление:
   "🎉 Видео одобрено! Списано ₽10,000"
```

### Шаг 3: Отклонение

```javascript
// Админ отклоняет клип
rejectVideo(videoId, reason)

// Действия:
1. НЕ списывать деньги ✅
2. Обновить статус:
   {
     status: 'rejected',
     paymentStatus: 'not_paid',
     rejectionReason: reason
   }
3. Отправить уведомление:
   "❌ Видео отклонено. Причина: ..."
   "💰 Средства НЕ списаны"
```

---

## 🎨 UI-ЭЛЕМЕНТЫ "PROMO COINS COMING SOON"

### 1. Страница тарифов

```tsx
<div className="bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-xl p-6 border border-purple-500/30">
  <div className="flex items-center gap-3 mb-3">
    <Sparkles className="w-6 h-6 text-purple-400" />
    <h3 className="text-xl font-bold text-white">
      💎 Promo Coins - Скоро!
    </h3>
  </div>
  <p className="text-gray-300 mb-4">
    Мы разрабатываем систему внутренней валюты для максимальной гибкости.
    Запуск: Q3 2026
  </p>
  <div className="grid grid-cols-2 gap-4 text-sm">
    <div className="bg-white/5 rounded-lg p-3">
      <div className="text-purple-400 font-bold mb-1">Что это?</div>
      <div className="text-gray-400">
        Покупай коины → тратишь когда удобно → переносишь на 3 месяца
      </div>
    </div>
    <div className="bg-white/5 rounded-lg p-3">
      <div className="text-purple-400 font-bold mb-1">Преимущества</div>
      <div className="text-gray-400">
        Гибкость, контроль бюджета, бонусы при покупке
      </div>
    </div>
  </div>
  <div className="mt-4 text-center">
    <span className="text-purple-400 font-semibold">
      🔔 Получить уведомление о запуске
    </span>
  </div>
</div>
```

### 2. Профиль пользователя

```tsx
<div className="backdrop-blur-xl bg-white/5 rounded-xl p-6 border border-white/10">
  <div className="flex items-center justify-between mb-4">
    <h3 className="text-lg font-bold text-white">Баланс</h3>
    <Wallet className="w-5 h-5 text-gray-400" />
  </div>
  
  <div className="space-y-3">
    {/* Текущий баланс рублей */}
    <div className="bg-green-500/10 rounded-lg p-4">
      <div className="text-sm text-gray-400 mb-1">Доступно</div>
      <div className="text-2xl font-bold text-white">₽125,000</div>
    </div>
    
    {/* Promo Coins - Coming Soon */}
    <div className="bg-purple-500/10 rounded-lg p-4 border border-purple-500/30 relative overflow-hidden">
      <div className="absolute top-2 right-2">
        <span className="px-2 py-1 rounded-full bg-purple-500/20 text-purple-300 text-xs font-bold">
          СКОРО
        </span>
      </div>
      <div className="text-sm text-gray-400 mb-1">Promo Coins 💎</div>
      <div className="text-2xl font-bold text-purple-400 blur-sm select-none">
        999 PC
      </div>
      <div className="text-xs text-gray-500 mt-2">
        Запуск Q3 2026 • Уведомим первыми
      </div>
    </div>
  </div>
</div>
```

### 3. При загрузке контента

```tsx
<div className="bg-white/5 rounded-xl p-6">
  <h3 className="text-lg font-bold text-white mb-4">Стоимость размещения</h3>
  
  {/* Текущая система */}
  <div className="bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-lg p-4 mb-3">
    <div className="flex items-center justify-between">
      <div>
        <div className="text-sm text-gray-400">Сейчас (прямая оплата)</div>
        <div className="text-2xl font-bold text-white">₽10,000</div>
      </div>
      <DollarSign className="w-8 h-8 text-cyan-400" />
    </div>
    <div className="text-xs text-gray-400 mt-2">
      Списывается после одобрения модерацией
    </div>
  </div>
  
  {/* Будущая система */}
  <div className="bg-purple-500/10 rounded-lg p-4 border border-purple-500/30">
    <div className="flex items-center justify-between">
      <div>
        <div className="text-sm text-purple-400">Скоро (Promo Coins) 💎</div>
        <div className="text-2xl font-bold text-purple-300 blur-sm">10 PC</div>
      </div>
      <Sparkles className="w-8 h-8 text-purple-400" />
    </div>
    <div className="text-xs text-gray-400 mt-2">
      Запуск Q3 2026 • Гибкость + перенос на 3 месяца
    </div>
  </div>
</div>
```

---

## 📋 ЧТО НУЖНО ОБНОВИТЬ В КОДЕ (ФАЗА 1)

### 1. DataContext

```typescript
// /src/contexts/DataContext.tsx

export interface User {
  id: string;
  name: string;
  email: string;
  role: 'artist' | 'label' | 'admin';
  balance: number; // Баланс в рублях
  subscriptionPlan: 'spark' | 'start' | 'pro' | 'elite' | 'label';
  subscriptionStatus: 'active' | 'inactive' | 'trial';
  
  // БУДУЩЕЕ (Promo Coins - Q3 2026)
  // promoCoins: number;
  // coinHistory: CoinTransaction[];
}

export interface Video {
  // ... существующие поля
  price: number; // ₽10,000 за клип
  paymentStatus: 'pending' | 'paid' | 'not_paid';
  isPaid: boolean; // true для платного размещения
}

// Константы стоимости контента
export const CONTENT_PRICES = {
  video: 10000,  // ₽10,000
  track: 5000,   // ₽5,000
  concert: 3000, // ₽3,000
  news: 2000,    // ₽2,000
};

// Лимиты подписок
export const SUBSCRIPTION_LIMITS = {
  spark: { videos: 0, tracks: 1, concerts: 3, news: 6 },
  start: { videos: 1, tracks: 3, concerts: 5, news: 10 },
  pro: { videos: 5, tracks: 10, concerts: 10, news: 20 },
  elite: { videos: 20, tracks: 50, concerts: 999, news: 999 },
  label: { videos: 999, tracks: 999, concerts: 999, news: 999 },
};
```

### 2. VideoModeration.tsx

```typescript
// /src/admin/pages/VideoModeration.tsx

const handleApprove = (videoId: number) => {
  const video = videos.find(v => v.id === videoId);
  
  if (!video) {
    toast.error('Видео не найдено');
    return;
  }

  // 1. Обновить статус видео
  updateVideo(videoId, { 
    status: 'approved',
    paymentStatus: 'paid'
  });
  
  // 2. Если платное - списать средства
  if (video.isPaid) {
    const cost = CONTENT_PRICES.video; // ₽10,000
    
    addTransaction({
      type: 'expense',
      amount: cost,
      description: `Размещение видео: ${video.title}`,
      status: 'completed',
      userId: video.userId,
    });

    console.log(`💰 Списано ₽${cost.toLocaleString()} с баланса артиста`);
  }
  
  // 3. Уведомление
  addNotification({
    userId: video.userId,
    type: 'video_approved',
    title: '🎉 Видео одобрено!',
    message: `Ваше видео "${video.title}" опубликовано.${
      video.isPaid ? ` Списано ₽${CONTENT_PRICES.video.toLocaleString()}.` : ''
    }`,
    read: false,
    relatedId: videoId,
    relatedType: 'video',
  });

  toast.success('Видео одобрено!', {
    description: video.isPaid 
      ? `Списано ₽${CONTENT_PRICES.video.toLocaleString()}` 
      : 'Видео опубликовано',
  });
  
  setSelectedVideo(null);
};
```

### 3. Создать страницу "Тарифы"

```typescript
// /src/pages/Pricing.tsx

export function Pricing() {
  return (
    <div className="max-w-7xl mx-auto p-6">
      <h1>Тарифы</h1>
      
      {/* Promo Coins Banner */}
      <PromoCoinsComingSoon />
      
      {/* Тарифные планы */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
        <PricingCard plan="spark" />
        <PricingCard plan="start" />
        <PricingCard plan="pro" recommended />
        <PricingCard plan="elite" />
        <PricingCard plan="label" />
      </div>
    </div>
  );
}
```

---

## 🚀 ROADMAP

### ✅ ФАЗА 1: СЕЙЧАС (Q1 2026)

- [x] Аудит бизнес-модели
- [x] Определение тарифов
- [ ] Обновление DataContext
- [ ] Обновление VideoModeration
- [ ] Создание страницы "Тарифы"
- [ ] UI "Promo Coins - Coming Soon"
- [ ] Тестирование финансовой логики

### ⏳ ФАЗА 2: PROMO COINS (Q3 2026)

- [ ] Разработка системы коинов
- [ ] Миграция пользователей
- [ ] Докупка пакетов коинов
- [ ] Перенос коинов на 3 месяца
- [ ] Бонусная система (+10% для Elite)
- [ ] Тестирование 6+ месяцев

---

## ✅ ИТОГО ФАЗА 1

```
╔══════════════════════════════════════════════════════╗
║  ВНЕДРЯЕМ СЕЙЧАС (БЕЗ КОИНОВ)                        ║
╠══════════════════════════════════════════════════════╣
║  ✅ Подписки с лимитами                              ║
║  ✅ Прямые оплаты за контент (₽10k за клип)         ║
║  ✅ Баннерная реклама                                ║
║  ✅ Рассылки по заведениям                           ║
║  ✅ Маркетинговое продвижение                        ║
║  ✅ Аналитика и CRM                                  ║
║  ⏳ UI "Promo Coins - Coming Soon"                   ║
║                                                      ║
║  ПЛЮСЫ:                                              ║
║  • Быстрое внедрение (1-2 месяца)                   ║
║  • Работающая финансовая модель                     ║
║  • Подготовка к коинам                              ║
║                                                      ║
║  МИНУСЫ:                                             ║
║  • Двойная оплата (подписка + контент)              ║
║  • Меньше гибкости для артиста                      ║
║  • Но это временно до Q3 2026!                      ║
╚══════════════════════════════════════════════════════╝
```

**Готов начать имплементацию Фазы 1?** 🛠️
