# ๐ฏ ะะฐะฑะธะฝะตัั ะผัะทัะบะฐะปัะฝะพะน ัะบะพัะธััะตะผั

ะะฐะถะดัะน ะบะฐะฑะธะฝะตั - ััะพ ะพัะดะตะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ัะพ ัะฒะพะธะผ backend, frontend ะธ ะฑะฐะทะพะน ะดะฐะฝะฝัั.

## ๐ ะกัััะบัััะฐ

```
/cabinets/
โโโ artist-promo-music/     โ ะะพัะพะฒ ะบ ะดะตะฟะปะพั
โ   โโโ deploy-direct.ts    # ะะฒัะพะผะฐัะธัะตัะบะธะน ะดะตะฟะปะพะน ัะตัะตะท REST API
โ   โโโ deploy.config.json  # ะะพะฝัะธะณััะฐัะธั
โ   โโโ COPILOT.md          # ะะฝััััะบัะธั ะดะปั AI Copilot
โ   โโโ README.md           # ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
โ   โโโ .env.example        # ะัะธะผะตั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
โ   โ
โ   โโโ frontend/           # React ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โโโ pages/          # 7 ัััะฐะฝะธั ะฟัะพะดะฒะธะถะตะฝะธั
โ   โ   โโโ contexts/       # React ะบะพะฝัะตะบััั
โ   โ
โ   โโโ backend/            # Supabase Edge Functions
โ   โ   โโโ index.tsx       # ะะปะฐะฒะฝัะน ัะพััะตั (15 API ัะฝะดะฟะพะธะฝัะพะฒ)
โ   โ   โโโ promotion-routes-sql.tsx
โ   โ   โโโ db-init.tsx
โ   โ
โ   โโโ database/           # SQL ะผะธะณัะฐัะธะธ
โ       โโโ 001_promotion_tables.sql  # 8 ัะฐะฑะปะธั PostgreSQL
โ
โโโ label-dashboard/        ๐ ะกะปะตะดัััะธะน
โโโ producer-studio/        ๐ ะะปะฐะฝะธััะตััั
โโโ sound-engineer/         ๐ ะะปะฐะฝะธััะตััั
โโโ ... (11+ ะบะฐะฑะธะฝะตัะพะฒ)
```

## ๐ ะัััััะน ััะฐัั

### ะะฐัะธะฐะฝั 1: ะะฒัะพะผะฐัะธัะตัะบะธะน ะดะตะฟะปะพะน (ะะะะะะะะะฃะะขะกะฏ)

```bash
cd cabinets/artist-promo-music

# ะะฐัััะพะน ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
export SUPABASE_URL="https://your-project.supabase.co"
export SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# ะะฐะฟัััะธ ะดะตะฟะปะพะน
deno run --allow-net --allow-read --allow-env deploy-direct.ts
```

### ะะฐัะธะฐะฝั 2: ะงะตัะตะท Supabase Copilot

1. ะัะบัะพะน Supabase Dashboard
2. ะะฐะนะดะธ Copilot (AI ะฟะพะผะพัะฝะธะบ)
3. ะะฐะณััะทะธ ัะฐะนะป `COPILOT.md` ะธะปะธ ัะบะพะฟะธััะน ัะตะบัั ะพัััะดะฐ
4. Copilot ะฐะฒัะพะผะฐัะธัะตัะบะธ:
   - ะกะพะทะดะฐัั ัะฐะฑะปะธัั ะธะท `database/001_promotion_tables.sql`
   - ะะฐะดะตะฟะปะพะธั edge function ะธะท `backend/`
   - ะกะพะทะดะฐัั storage bucket

### ะะฐัะธะฐะฝั 3: ะััะฝะพะน ะดะตะฟะปะพะน

ะกะผ. ะฟะพะดัะพะฑะฝัั ะธะฝััััะบัะธั ะฒ `artist-promo-music/README.md`

## ๐ ะกัะฐััั ะบะฐะฑะธะฝะตัะพะฒ

| ะะฐะฑะธะฝะตั | ะกัะฐััั | ะขะฐะฑะปะธัั | API | Frontend | ะะตะฟะปะพะน |
|---------|--------|---------|-----|----------|--------|
| Artist Promo | โ ะะพัะพะฒ | 8 | 15 | 7 ัััะฐะฝะธั | โ |
| Label Dashboard | ๐ | - | - | - | - |
| Producer Studio | ๐ | - | - | - | - |
| Sound Engineer | ๐ | - | - | - | - |
| DJ Cabinet | ๐ | - | - | - | - |
| Booking Agent | ๐ | - | - | - | - |
| Promoter | ๐ | - | - | - | - |
| Manager | ๐ | - | - | - | - |
| PR Specialist | ๐ | - | - | - | - |
| Distributor | ๐ | - | - | - | - |
| Venue | ๐ | - | - | - | - |

## ๐ง ะะฐะบ ัะฐะฑะพัะฐะตั ะดะตะฟะปะพะน

### ะะฒัะพะผะฐัะธัะตัะบะธะน ัะบัะธะฟั (`deploy-direct.ts`)

1. **ะัะพะฒะตััะตั ะฟะพะดะบะปััะตะฝะธะต** ะบ Supabase
2. **ะกะพะทะดะฐะตั ัะฐะฑะปะธัั** ัะตัะตะท REST API (ะฒัะฟะพะปะฝัะตั SQL)
3. **ะกะพะทะดะฐะตั storage buckets** ะดะปั ัะฐะนะปะพะฒ
4. **ะัะพะฒะตััะตั ัะตะทัะปััะฐั** - ะฟะพะบะฐะทัะฒะฐะตั ััะพ ัะพะทะดะฐะฝะพ

### ะงัะพ ะะ ะดะตะปะฐะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ

- โ **Edge Functions** - ะฝัะถะฝะพ ะดะตะฟะปะพะธัั ัะตัะตะท CLI:
  ```bash
  supabase functions deploy make-server-84730125
  ```
  
  ะะพัะตะผั? Edge Functions ััะตะฑััั ะฑะฐะฝะดะปะธะฝะณะฐ TypeScript ะธ ัะฟะตัะธะฐะปัะฝะพะณะพ ัะพัะผะฐัะฐ ะดะตะฟะปะพั.

### ะะตัะตะฝะธะต ะดะปั Edge Functions

**ะะฐัะธะฐะฝั ะ: ะงะตัะตะท Supabase CLI** (ัะตะบะพะผะตะฝะดัะตััั)
```bash
cd cabinets/artist-promo-music
supabase functions deploy make-server-84730125 --import-map backend/import_map.json
```

**ะะฐัะธะฐะฝั ะ: ะะพะฟัะพัะธัั Copilot**
Copilot ะฒ Supabase Dashboard ะผะพะถะตั ะทะฐะดะตะฟะปะพะธัั ััะฝะบัะธะธ, ะตัะปะธ ะดะฐัั ะตะผั ะธะฝััััะบัะธั ะธะท `COPILOT.md`

## ๐จ ะะฑัะฐั ะฐััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         Frontend (React + Vite)         โ
โ  โข ะกััะฐะฝะธัั ะดะปั ะบะฐะถะดะพะณะพ ะบะฐะฑะธะฝะตัะฐ        โ
โ  โข ะะฑัะธะต ะบะพะผะฟะพะฝะตะฝัั (shared/)           โ
โ  โข Tailwind CSS v4 + Glassmorphism      โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
                  โ HTTPS
                  โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ    Supabase Edge Functions (Deno)       โ
โ  โข Hono Web Framework                   โ
โ  โข API ัะพััั ะดะปั ะบะฐะถะดะพะณะพ ะบะฐะฑะธะฝะตัะฐ       โ
โ  โข ะะธะทะฝะตั-ะปะพะณะธะบะฐ                        โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
                  โ SQL
                  โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         PostgreSQL Database             โ
โ  โข ะขะฐะฑะปะธัั ะดะปั ะบะฐะถะดะพะณะพ ะบะฐะฑะธะฝะตัะฐ         โ
โ  โข Row Level Security (RLS)             โ
โ  โข Triggers & Functions                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ฆ ะงัะพ ะฒัะพะดะธั ะฒ ะบะฐะถะดัะน ะบะฐะฑะธะฝะตั

### Frontend
- React ะบะพะผะฟะพะฝะตะฝัั (`.tsx`)
- ะกััะฐะฝะธัั ั ัะพััะธะฝะณะพะผ
- ะะพะฝัะตะบััั ะดะปั state management
- ะะฝัะตะณัะฐัะธั ั Supabase client

### Backend
- Edge Functions (Deno + TypeScript)
- API ัะฝะดะฟะพะธะฝัั (REST)
- ะะธะทะฝะตั-ะปะพะณะธะบะฐ
- ะะฝัะตะณัะฐัะธั ั PostgreSQL

### Database
- SQL ะผะธะณัะฐัะธะธ
- ะขะฐะฑะปะธัั ั RLS ะฟะพะปะธัะธะบะฐะผะธ
- ะขัะธะณะณะตัั ะธ ััะฝะบัะธะธ
- ะะฝะดะตะบัั ะดะปั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

### ะะพะฝัะธะณััะฐัะธั
- `deploy.config.json` - ะผะตัะฐะดะฐะฝะฝัะต ะบะฐะฑะธะฝะตัะฐ
- `.env.example` - ะฟัะธะผะตั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
- `COPILOT.md` - ะธะฝััััะบัะธั ะดะปั AI

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### ะะปััะธ API

- **SUPABASE_ANON_KEY** - ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั ะฝะฐ frontend
- **SUPABASE_SERVICE_ROLE_KEY** - ะขะะะฌะะ ะฝะฐ backend!

### Row Level Security (RLS)

ะัะต ัะฐะฑะปะธัั ะทะฐัะธัะตะฝั RLS ะฟะพะปะธัะธะบะฐะผะธ:
```sql
-- ะัะธะผะตั ะฟะพะปะธัะธะบะธ
CREATE POLICY "Users can view own data" 
ON pitching_requests 
FOR SELECT 
USING (auth.uid() = artist_id);
```

### Storage Security

- Buckets ะฟะพ ัะผะพะปัะฐะฝะธั **private**
- ะะพัััะฟ ัะตัะตะท **signed URLs**
- ะะณัะฐะฝะธัะตะฝะธั ะฟะพ ัะฐะทะผะตัั ะธ ัะธะฟะฐะผ ัะฐะนะปะพะฒ

## ๐ ะงะตะบะปะธัั ะดะตะฟะปะพั

ะะตัะตะด ะดะตะฟะปะพะตะผ ะฟัะพะฒะตัั:

- [ ] ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ัััะฐะฝะพะฒะปะตะฝั
- [ ] `deploy.config.json` ะทะฐะฟะพะปะฝะตะฝ ะฟัะฐะฒะธะปัะฝะพ
- [ ] SQL ะผะธะณัะฐัะธะธ ะฐะบััะฐะปัะฝัะต
- [ ] Edge Functions ะฟัะพัะตััะธัะพะฒะฐะฝั ะปะพะบะฐะปัะฝะพ
- [ ] Frontend ะบะพะผะฟะพะฝะตะฝัั ะณะพัะพะฒั

ะะพัะปะต ะดะตะฟะปะพั ะฟัะพะฒะตัั:

- [ ] ะขะฐะฑะปะธัั ัะพะทะดะฐะฝั (Dashboard โ Database)
- [ ] Edge Function ะฐะบัะธะฒะฝะฐ (Dashboard โ Edge Functions)
- [ ] Storage bucket ัะพะทะดะฐะฝ (Dashboard โ Storage)
- [ ] API ะพัะฒะตัะฐะตั ะบะพััะตะบัะฝะพ (ัะตััะพะฒัะน ะทะฐะฟัะพั)
- [ ] Frontend ะฟะพะดะบะปััะฐะตััั ะบ backend

## ๐ Troubleshooting

### "Missing environment variables"
```bash
export SUPABASE_URL="https://xxx.supabase.co"
export SUPABASE_SERVICE_ROLE_KEY="your-key"
```

### "Connection failed"
- ะัะพะฒะตัั URL ะฟัะพะตะบัะฐ (ะดะพะปะถะตะฝ ะฑััั https://xxx.supabase.co)
- ะัะพะฒะตัั ััะพ ะบะปัั ะฟัะฐะฒะธะปัะฝัะน (Dashboard โ Settings โ API)

### "Tables not created"
- ะะฐะฟัััะธ SQL ะฒัััะฝัั: Dashboard โ SQL Editor
- ะกะบะพะฟะธััะน ะธะท `database/001_promotion_tables.sql`

### "Edge Function not working"
- ะะตะฟะปะพะน ัะตัะตะท CLI: `supabase functions deploy NAME`
- ะัะพะฒะตัั ะปะพะณะธ: `supabase functions logs NAME`

## ๐ Workflow ัะฐะทัะฐะฑะพัะบะธ

1. **ะะฐะทัะฐะฑะพัะบะฐ ะปะพะบะฐะปัะฝะพ**
   - Frontend: `npm run dev`
   - Backend: `supabase functions serve`

2. **ะขะตััะธัะพะฒะฐะฝะธะต**
   - Unit ัะตััั ะดะปั ะบะพะผะฟะพะฝะตะฝัะพะฒ
   - Integration ัะตััั ะดะปั API
   - E2E ัะตััั ะดะปั ะบัะธัะธัะฝัั ัะปะพั

3. **ะะตะฟะปะพะน**
   - ะะฐะฟััะบ `deploy-direct.ts`
   - ะะตะฟะปะพะน edge functions ัะตัะตะท CLI
   - ะัะพะฒะตัะบะฐ ัะตัะตะท ัะตะบะปะธัั

4. **ะะพะฝะธัะพัะธะฝะณ**
   - ะะพะณะธ ะฒ Supabase Dashboard
   - ะะตััะธะบะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธั
   - ะัะธะฑะบะธ ะธ performance

## ๐ ะะพะปะตะทะฝัะต ัััะปะบะธ

- [Supabase Docs](https://supabase.com/docs)
- [Supabase CLI Reference](https://supabase.com/docs/reference/cli)
- [Edge Functions Guide](https://supabase.com/docs/guides/functions)
- [PostgreSQL Guide](https://supabase.com/docs/guides/database)

---

**ะกะพะทะดะฐะฝะพ ะดะปั ะผัะทัะบะฐะปัะฝะพะน ะธะฝะดััััะธะธ ั โค๏ธ**
